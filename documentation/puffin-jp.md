# **Puffin言語 入門マニュアル**

## **🌱 1\. 変数を作る**

値を入れる箱を「変数」といいます。変数を作るには `set` を使います。

```
set 変数名, 値
```

変数名には、次の文字が使えます：

* 英大文字 A〜Z

* 英小文字 a〜z

* 数字 0〜9（最初には使えません）

* アンダースコア `_`

### **例**

```
# 数字
set foo, 1

# 文字列 
set bar, "hello"

# 真（はい） 
set flag, true

# 偽（いいえ） 
set flag, false

# 何もない
set none, null
```

---

## **🧩 2\. データの形（型）**

Puffinで使える基本のデータは次の6種類です。

| 型の名前 | 説明 | 例 |
| ----- | ----- | ----- |
| 数値 | 小数第2位まで使える数 | `1`, `-0.01` |
| 文字列 | ダブルクォーテーションで囲む文字 | `"hello"` |
| true / false | 真（はい）または偽（いいえ） | `true`, `false` |
| null | 何もないことを表す | `null` |
| リスト | 並び順のあるデータの集まり | `[1, 2, 3]` |
| オブジェクト | 名前と値のセット | `{a: 1, b: "hello"}` |

リストやオブジェクトは入れ子にもできます。

```
set foo, [{a: []}]
```

---

## **🧱 3\. リスト・オブジェクトの操作**

### 値へのアクセス（読み取り）

リストやオブジェクトの特定の部分（要素）にアクセスしたり、中身を変更したりできます。

* **リストの中のデータ** → `[番号]` ※番号は0から始まります

* **オブジェクトの中のデータ** → `.名前`

これらを使って値を取り出すには、「5. 変数の中身を使う」で説明する、 `$foo[0]` や `$bar.message` の形を使います。

### 値の変更・追加（書き換え）
`set` を使って、特定の場所の値を変更（上書き）したり、オブジェクトに新しいデータを追加したりできます。

```
set foo[0], 2 # リストの1番目を2に変更
set bar.message, "hi" # オブジェクト 'bar' に 'message' を追加
```

### 要素の追加

`add` を使って、リストに要素を足すことができます。

```
add list, "foo"
``` 

---

## **🔢 4\. 計算と比較**

### **計算する記号（演算子）**

| 記号 | 意味 |
| ----- | ----- |
| `+` | 足す |
| `-` | 引く |
| `*` | 掛ける |
| `/` | 割る |
| `%` | 割った余り |

### **比べる記号（比較演算子）**

| 記号 | 意味 |
| ----- | ----- |
| `==` | 等しい |
| `!=` | 等しくない |
| `<<` | より小さい |
| `<=` | 以下 |
| `>>` | より大きい |
| `>=` | 以上 |

`set check1, 1 == 1   # true`  
`set check2, 2 >> 1   # true`

Puffinの比較演算子は、すべて文字を2つ使うことに注意してください。

---

## **💡 5\. 変数の中身を使う**

変数の値を使うときは、名前の前に `$` をつけます。

```
set a, 1

# aの値を使う
set b, $a + 2  
```

リストやオブジェクトも同じように使えます。

```
set foo, {message: "hello"}
set msg, $foo.message

set bar, [1, 2, 3]
set first, $bar[0]
```

---

## **⚙️ 6\. 処理を実行する (`do`)**

`do` は「実行する」という命令です。関数を使うときは、名前の前に `@` をつけます。

```
do @log(1, 2, 3)
```

### **あらかじめ使える関数**

| 関数名 | 説明 |
| ----- | ----- |
| `@size(list_or_object)` | リストやオブジェクトの数を数える |
| `@and(a, b, …)` | すべて true なら true |
| `@or(a, b, …)` | どれかが true なら true |
| `@random()` | 0以上1未満のランダムな数 |
| `@sqrt()` | 平方根を求める |
| `@abs()` | 絶対値を求める |
| `@stringify()` | 値を文字に変える |
| `@trunc()` | 小数点以下を切り捨てる |
| `@format_int()` | 整数を整形する |
| `@min(a, b, …)` | 最小値を抽出する |
| `@max(a, b, …)` | 最大値を抽出する |

---

## **🗒️ 7\. コメントを書く**

`#` から行の終わりまではコメントとして無視されます。

```
# これはコメントです
```

下のように命令の途中から `#` 使うことはできません。

```
set foo, 1 # fooを定義
```

---

## **🔀 8\. 条件分岐（if）**

`if` は「もし〜なら〜する」です。条件が `true` のときだけ中の命令を実行します。インデント（字下げ）には **タブ** を使います。スペースは使えないことに注意してください。

```
if a > 0, b > 0: # カンマ区切りはAND条件「かつ」
    do @log("aとbは正の数です")
elseif a > 0:
    do @log("aだけ正の数です")
elseif b > 0:
    do @log("bだけ正の数です")  
else:  
    do @log("どちらも正ではありません")
```

OR条件「または」を使いたい場合は、`@or`関数を使います。

```
if @or(a > 0, b > 0)  
    do @log("aまたはbは正の数です")
```

`if` の中にもう1つ `if` を入れることもできます（入れ子構造）。

---

## **🔁 9\. 繰り返し（while / for）**

### **while（条件が合う間くり返す）**

```
set i, 0
while $i < 3: 
    do @log($i) 
    set i, $i + 1
```

### **for（回数を指定してくり返す）**

```
for i, 0, 3: # iが0から3未満までで、毎ループ+1する
    do @log($i)  # 0, 1, 2 を出力
```

`for` と `while` の中では `break` で中断できます。

```
for i, 0, 3:
    if @random() < 0.5:
        break
```

---

## **🎯 まとめ**

Puffin言語は、次の3つをおさえると理解が早いです。

1. **`set`** で値を作る

2. **`$`** で値を取り出す、関数を呼ぶときは **`@`** をつける

3. **`do`**, **`if`**, **`for`**, **`while`**, **`add`** で動きを作る

