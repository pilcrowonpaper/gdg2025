<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="icon" type="image/svg+xml" href="/vite.svg">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>プログラム | LAV DEVKIT</title>
		<link rel="stylesheet" type="text/css" href="./style.css">
	</head>

	<body style="font-family: monospace; font-size: 1rem;">
		<header
			style="padding: 1rem 2rem; border-bottom: solid 1px black; display: flex; justify-content: space-between; align-items: center;"
		>
			<div style="display: flex; align-items: center;">
				<img style="height: 1.5rem;" src="/logo.webp">
				<span style="font-weight: bold; margin-left: 0.5rem;">DEVKIT</span>
			</div>
			<div style="display: flex; align-items: center; gap: 2rem;">
				<ul style="display: flex; gap: 2rem; list-style: none;">
					<li>
						<a href="/scripts/">プログラム</a>
					</li>
					<li>
						<a href="/sprites/">イラスト</a>
					</li>
					<li>
						<a href="/audio-clips/">効果音</a>
					</li>
					<li>
						<a href="/files/">ファイル</a>
					</li>
				</ul>
				<a href="/play/" target="_blank" class="button">遊ぶ</a>
			</div>
		</header>
		<main style="padding: 1rem 2rem;">
			<h1 style="padding: 2rem 0rem;">プログラムを編集</h1>
			<div id="editor-body" hidden style="display: grid; grid-column: 1; gap: 1rem;">
				<div style="display: flex; justify-content: space-between; align-items: center;">
					<div>
						<label>プログラムを選択</label>
						<select id="script-selector"></select>
					</div>
					<div style="display: flex; gap: 1rem;">
						<button id="new-script-button">プログラムを新規作成</button>
					</div>
				</div>
				<div style="border: solid 1px black; padding: 2rem; display: grid; column-count: 1; gap: 2rem;">
					<ul style="display: flex; gap: 1rem; list-style: none;">
						<button id="show-script-edit-page-button" class="link-like-button">編集</button>
						<button id="show-script-config-page-button" class="link-like-button">設定</button>
					</ul>
					<div id="script-edit-page" hidden>
						<p>ESCキーでフォーカス状態を解除</p>
						<div style="display: flex; gap: 1rem; border: solid black 1px; padding: 1rem 0;">
							<div
								style="font-family: monospace; font-size: 1rem; margin: 0; text-align: right; width:4ch; color: gray; line-height: 150%;"
								id="text-editor.line-count-section"
								aria-hidden="true"
							></div>
							<textarea
								id="text-editor.text"
								style="width: 100%; resize: none; font-family: monospace; font-size: 1rem; white-space: pre; overflow-wrap: normal; overflow-x: scroll; line-height: 150%; border: none;"
								autocorrect="off"
								autocomplete="off"
								autocapitalize="off"
								spellcheck="false"
								rows="1"
							></textarea>
						</div>
					</div>
					<div id="script-config-page" hidden>
						<div style="display: grid; column-count: 1; gap: 2rem">
							<section>
								<h2 style="margin-bottom: 1rem;">プログラムの名前を変更</h2>
								<form id="rename-script-id-form">
									<input name="new_script_id">
									<button>名前を変更</button>
								</form>
							</section>
							<section>
								<h2 style="margin-bottom: 1rem;">プログラムを削除</h2>
								<button id="delete-script-button">削除</button>
							</section>
						</div>
					</div>
				</div>
			</div>
		</main>
	</body>

	<script type="module" src="./index.ts"></script>
</html>
